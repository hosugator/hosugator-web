---
created: 2025-11-17
tags: [aws_saa, aws, batch, compute, job_queue, serverless]
reference:
---
# AWS Batch
## 정의
수십만 개의 배치 컴퓨팅 작업을 효율적으로 실행할 수 있도록 하는 컴퓨팅 리소스 계획·스케줄링·관리를 수행하는 완전 관리형 서비스
## 원리
### 작업 큐 및 컴퓨팅 환경
- 사용자가 실행할 작업(Job)을 작업 큐(Job Queue)에 제출하면, AWS Batch가 정의된 컴퓨팅 환경(Compute Environment) 내에서 작업을 스케줄링하고 실행한다.
- 필요한 컴퓨팅 리소스(예: [[EC2]] 인스턴스, 스팟 인스턴스)는 작업의 요구 사항에 따라 자동으로 프로비저닝 및 확장된다.
### 컨테이너 기반 실행
- 모든 배치 작업은 Docker 컨테이너 내에서 실행된다. 이는 환경 일관성을 보장하고 복잡한 종속성 관리를 단순화한다.
## 요소
- 작업 (Job): 실행할 단위 작업이다. Docker 이미지와 실행 명령어를 포함하는 작업 정의(Job Definition)를 기반으로 한다.
- 작업 정의 (Job Definition): 작업의 실행 사양(Docker 이미지, CPU/메모리 요구 사항 등)을 지정하는 템플릿이다.
- 작업 큐 (Job Queue): 작업이 제출되고 실행을 기다리는 대기열이다. 큐의 우선순위(Priority)를 설정할 수 있다.
- 컴퓨팅 환경 (Compute Environment): 작업을 실행하기 위해 관리되는 [[EC2]] 인스턴스(온디맨드 또는 스팟)의 집합이다. Fargate를 런치 타입으로 사용할 수도 있다.
## 특징
- 동적 프로비저닝: 제출된 작업의 볼륨에 따라 컴퓨팅 환경을 자동으로 확장하거나 축소하여 비용을 최적화한다.
- 비용 최적화: 컴퓨팅 환경에서 스팟 인스턴스 사용을 손쉽게 설정하여 비용을 크게 절감할 수 있다.
- 자동 장애 조치: 작업이 실패하면, AWS Batch는 자동으로 작업을 다른 컴퓨팅 리소스로 재시도한다.
- 작업 종속성: 작업 간의 순차적인 종속성을 정의하여, 특정 작업이 완료된 후에만 다음 작업을 실행하도록 설정할 수 있다.
- 완전 관리형 스케줄러: 배치 작업 스케줄링 및 리소스 할당과 관련된 모든 복잡성을 AWS가 처리한다.
## 비교
| 구분 | AWS Batch | [[Lambda]] |
| :--- | :--- | :--- |
| 적합한 작업 | 장기 실행, 고성능 컴퓨팅, 대규모 병렬 작업 | 단기 실행 (최대 15분), 이벤트 기반, 서버리스 함수 |
| 운영 방식 | 컨테이너(Docker) 기반 | 함수(Function) 기반 |
| 최대 실행 시간 | 제한 없음 | 최대 15분 |
## 예시
- 유전자 시퀀싱 분석:
    1. 연구팀이 수십만 개의 유전자 시퀀스 분석 작업을 AWS Batch의 작업 큐에 제출한다.
    2. AWS Batch는 고성능 컴퓨팅(HPC)에 최적화된 컴퓨팅 환경을 스팟 인스턴스로 자동 프로비저닝한다.
    3. 각 분석 작업은 Docker 컨테이너 내에서 독립적으로 실행되며, 작업이 완료되면 컴퓨팅 리소스는 자동으로 해제되어 비용이 절감된다.
    4. 분석 결과는 [[S3]]에 저장되고, 작업 상태는 [[CloudWatch]]를 통해 모니터링된다.