---
created: 2025-11-16
tags: [aws_saa, aws, codebuild, ci_cd, build, testing]
reference:
---
# AWS CodeBuild
## 정의
소스 코드를 컴파일하고, 단위 테스트를 실행하며, 배포 가능한 소프트웨어 패키지(아티팩트)를 생성하는 완전 관리형 빌드 서비스
## 원리
### 빌드스펙 파일 기반 실행
- 빌드 프로젝트(Build Project)를 생성하여 소스 코드 위치, 빌드 환경, 명령어, 아티팩트 저장소를 정의한다.
- 소스 코드에 포함된 `buildspec.yml` 파일은 빌드 프로세스의 모든 단계(설치, 사전 빌드, 빌드, 사후 빌드)에서 실행할 명령어를 명시한다.
- 필요에 따라 컴퓨팅 리소스가 자동으로 프로비저닝되고, 빌드 완료 후 해제된다.
## 요소
- 빌드 프로젝트(Build Project): 빌드 실행을 위한 모든 설정을 포함하는 기본 엔티티이다.
- `buildspec.yml`: 빌드 단계(Phases)와 해당 단계에서 실행할 셸 명령어, 최종 아티팩트 위치를 정의하는 YAML 형식의 구성 파일이다.
- 빌드 환경(Build Environment): 코드를 컴파일하고 테스트를 실행하는 데 필요한 운영 체제, 프로그래밍 언어 런타임, 도구를 포함하는 도커(Docker) 컨테이너 이미지이다.
- 아티팩트(Artifact): 빌드 결과물(예: .zip, .war 파일, 도커 이미지)이며, 일반적으로 [[S3]]에 저장된다.
## 특징
- 완전 관리형 및 서버리스: 사용자가 빌드 서버를 프로비저닝하거나 확장, 관리할 필요가 없다.
- 종량제(Pay-as-you-go): 빌드 시간이 끝날 때까지 초 단위로 요금이 부과된다. 유휴 시간에는 비용이 발생하지 않는다.
- 병렬 처리: 단일 빌드 프로젝트 내에서 여러 테스트를 병렬로 실행하여 빌드 시간을 단축할 수 있다.
- 보안: [[IAM]] 역할을 사용하여 빌드 환경의 AWS 리소스 접근 권한을 세밀하게 제어한다.
- 통합: [[CodePipeline]]의 빌드 단계로 직접 통합되어 CI/CD 파이프라인의 핵심 구성 요소로 사용된다.
## 비교
| 구분 | CodeBuild (완전 관리형) | Self-managed Jenkins (자가 관리) |
| :--- | :--- | :--- |
| 인프라 관리 | AWS가 관리 (서버리스) | 사용자가 [[Amazon EC2]] 또는 온프레미스 서버 관리 |
| 확장성 | 요청 볼륨에 따라 자동 및 탄력적 확장 | 수동으로 인스턴스 크기 조정 및 관리 필요 |
| 비용 모델 | 실제 사용 시간에 대해서만 지불 | 인스턴스 실행 시간에 대해 24/7 지불 |
## 예시
- 웹 애플리케이션 빌드 및 패키징:
    1. 개발자가 [[CodeCommit]]에 코드를 커밋하면, [[CodePipeline]]이 CodeBuild 프로젝트를 시작한다.
    2. CodeBuild는 소스 코드를 가져와 `buildspec.yml`에 명시된 대로 Node.js 런타임을 설치하고, npm 종속성을 다운로드한다.
    3. build 단계에서 코드를 컴파일하고 유닛 테스트를 실행한다.
    4. artifacts 섹션에 정의된 대로, 컴파일된 결과물을 .zip 파일로 묶어 [[S3]] 버킷에 저장한다.
    5. 이 .zip 파일은 다음 단계인 [[CodeDeploy]]의 입력(Input Artifact)으로 사용된다.