---
created: 2025-11-16
tags: [aws_saa, aws, codepipeline, ci_cd, automation, orchestration]
reference:
---
# AWS CodePipeline
## 정의
애플리케이션 및 인프라 업데이트를 위한 릴리스 파이프라인을 자동화하는 완전 관리형 지속적 전달(Continuous Delivery, CD) 서비스
## 원리
### 단계별 워크플로우 정의
- 소스(Source), 빌드(Build), 테스트(Test), 배포(Deploy) 등 일련의 단계(Stage)로 구성된 워크플로우를 정의한다.
- 각 단계는 하나 이상의 작업(Action)을 수행하며, 이전 단계의 성공적인 결과물(아티팩트)을 다음 단계로 전달하여 최종 배포까지 자동화한다.
### 상태 기반 자동 실행
- 파이프라인의 소스 단계에 변경 사항이 감지되면(예: [[CodeCommit]]에 코드 푸시), 전체 파이프라인이 자동으로 실행된다.
## 요소
- 파이프라인(Pipeline): 소스에서 프로덕션 환경까지 이르는 전체 릴리스 모델을 정의하는 최상위 워크플로우이다.
- 단계(Stage): Source, Build (e.g., [[CodeBuild]]), Deploy (e.g., [[CodeDeploy]])와 같이 논리적으로 구분된 작업 그룹이다.
- 작업(Action): 단계 내에서 수행되는 특정 작업이다. AWS 서비스(예: [[Lambda]] 실행) 또는 타사 도구를 사용할 수 있다.
- 아티팩트(Artifact): 한 단계에서 생성되어 다음 단계로 전달되는 데이터(소스 코드, 빌드 결과물 등)이며, 내부적으로 [[S3]]에 저장된다.
- 수동 승인(Manual Approval): 특정 단계(예: 프로덕션 배포 전)에서 사람의 수동 확인을 거치도록 설정할 수 있다.
## 특징
- 완전 자동화: 소프트웨어 릴리스 프로세스의 모든 단계를 자동화하여 수동 개입을 줄인다.
- 유연한 통합: 모든 AWS Developer Tool(CodeCommit, CodeBuild, CodeDeploy 등)과 긴밀하게 통합되며, Jenkins, GitHub 등 타사 도구와도 연결할 수 있다.
- 고가용성: 파이프라인은 자동으로 여러 [[AZ]]에 걸쳐 실행되어 안정적인 운영을 보장한다.
- 파이프라인 유형: V2 파이프라인은 V1 대비 더 빠른 상태 전이, 병렬 실행, 더 저렴한 비용을 제공한다.
## 비교
| 구분 | CodePipeline (CD) | [[AWS Step Functions]] (Orchestration) |
| :--- | :--- | :--- |
| 주요 목적 | 소프트웨어 릴리스 워크플로우 자동화 및 오케스트레이션 | 서버리스 컴포넌트 및 비즈니스 로직 조정 |
| 흐름 제어 | 고정된 CI/CD 단계 모델 기반 | JSON 기반의 유연한 상태 머신 모델 기반 |
| 적합한 경우 | 코드 변경에 따른 배포 및 테스트 자동화 | 장기 실행 비즈니스 프로세스, ETL 워크플로우 |
## 예시
- 엔드 투 엔드 CI/CD 구축:
    1. Source 단계: [[CodeCommit]] 리포지토리에 코드가 커밋되는 것을 감지한다.
    2. Build 단계: [[CodeBuild]]를 호출하여 코드를 컴파일하고 테스트를 실행하며, 아티팩트를 생성한다.
    3. Test 단계: 테스트 코드를 실행하고 성공 여부를 검증한다.
    4. Deploy 단계: [[CodeDeploy]]를 호출하여 빌드된 아티팩트를 [[EC2]] 인스턴스에 배포한다.
    5. 이 모든 과정이 코드가 커밋되는 순간부터 최종 사용자에게 배포될 때까지 자동으로 순차적으로 실행된다.