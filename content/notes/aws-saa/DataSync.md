---
created: 2025-11-17
tags: [aws_saa, aws, datasync, migration, hybrid_cloud, data_transfer]
reference:
---
# AWS DataSync
## 정의
온프레미스 스토리지 시스템(NFS, SMB)과 AWS 스토리지 서비스([[S3]], [[2. project/AWS_SAA/EFS]], [[AWS FSx]]) 간에 데이터 이동을 자동화하고 가속화하는 온라인 데이터 전송 서비스
## 원리
### 전용 에이전트
- 고객의 온프레미스 환경에 DataSync 에이전트를 배포한다. 이 에이전트는 온프레미스 스토리지 시스템에 대한 연결을 설정하고, AWS 서비스와 통신하며 데이터를 효율적으로 전송한다.
- 에이전트가 데이터 전송, 암호화, 네트워크 최적화, 오류 복구 등의 복잡한 작업을 처리한다.
### 병렬 및 증분 전송
- 데이터를 여러 TCP 연결을 통해 병렬로 전송하여 마이그레이션 속도를 높인다.
- 초기 전송 후에는 증분 전송을 수행하여 변경된 파일만 식별하고 전송하여 시간과 대역폭을 절약한다.
## 요소
- DataSync 에이전트 (Agent): 온프레미스에서 가상 머신(VM) 또는 [[EC2]] 인스턴스로 배포되며, 소스 스토리지 시스템에 액세스한다.
- 위치(Location): 데이터 전송의 소스 또는 대상이 되는 엔드포인트이다. (예: 온프레미스 NFS 서버, [[S3]] 버킷, [[2. project/AWS_SAA/EFS]] 파일 시스템 등)
- 작업(Task): 소스 위치와 대상 위치 간의 데이터 이동을 정의하는 기본 엔티티이다. 스케줄, 대역폭 제한, 데이터 무결성 검증 옵션 등을 지정한다.
## 특징
- 가속화: 독점적인 프로토콜을 사용하여 공용 인터넷 또는 [[Direct Connect]] 연결을 통해 기존 도구 대비 최대 10배 빠른 속도를 제공한다.
- 보안: 전송 중인 모든 데이터는 암호화되며, [[KMS]] 또는 TLS/SSL을 사용하여 데이터가 안전하게 보호된다.
- 자동화: 작업 스케줄링, 대역폭 제한, 오류 처리 및 자동 재시도 기능을 내장하고 있어, 대규모 마이그레이션 관리를 단순화한다.
- 증분 복사(Incremental Copy): 최초 전송 후에는 변경된 파일과 속성만 복사하여, 동기화 및 주기적인 복제에 적합하다.
## 비교
| 구분        | AWS DataSync                           | [[S3]] Transfer Acceleration           |
| :-------- | :------------------------------------- | :----------------------------------------- |
| 적합한 사용 환경 | 온프레미스 스토리지 시스템 (NFS/SMB)에서 AWS로 마이그레이션 | 지리적으로 멀리 떨어진 개별 클라이언트에서 [[S3]]로 파일 업로드 |
| 전송 주체     | 온프레미스 에이전트가 전적으로 관리                    | 인터넷을 경유하며 [[CloudFront]] 엣지 로케이션을 활용       |
| 목표        | 대용량/하이브리드 데이터 마이그레이션 및 복제              | 전 세계에 분산된 최종 사용자 업로드 속도 개선                 |
## 예시
- 온프레미스 NFS 데이터 클라우드 마이그레이션:
    1. 데이터 센터에 DataSync 에이전트를 배포하고, 온프레미스 NFS 서버를 소스 위치로 설정한다.
    2. AWS 클라우드에 마이그레이션 대상인 [[2. project/AWS_SAA/EFS]] 파일 시스템을 대상 위치로 설정한다.
    3. DataSync 작업을 생성하고, 작업 스케줄을 설정하여 매일 새벽에 증분 전송을 수행하도록 한다.
    4. DataSync는 온프레미스 NFS 서버의 데이터를 효율적으로 읽고, 전용 프로토콜을 사용하여 데이터를 [[2. project/AWS_SAA/EFS]]로 전송한다.
    5. 전송이 완료되면 [[CloudWatch]]를 통해 상태 보고서를 확인하고, 데이터 무결성 검증이 완료되었는지 확인한다.