---
created: 2025-11-14
tags: [aws_saa, aws, ecs, containers, orchestration, fargate]
reference:
---
# Amazon Elastic Container Service (ECS)
## 정의
클라우드에서 도커 컨테이너를 실행, 중지 및 관리할 수 있도록 지원하는 완전 관리형 컨테이너 오케스트레이션 서비스
## 원리
### 클러스터 관리
- 사용자가 컨테이너화된 애플리케이션을 배포하고 실행할 수 있는 [[EC2]] 인스턴스 또는 서버리스 컴퓨팅 환경([[Fargate]])의 논리적 그룹인 클러스터를 중심으로 작동한다.
- ECS는 컨테이너의 배치, 상태 유지, 확장 및 네트워킹을 자동으로 관리한다.
### 태스크(Task) 정의
- 태스크 정의는 애플리케이션을 구성하는 하나 이상의 컨테이너(도커 이미지, 포트 매핑, CPU/메모리 요구 사항 등)를 지정하는 설계도이다.
- ECS는 이 태스크 정의를 기반으로 컨테이너를 시작하고 관리한다.
## 요소
- 클러스터(Cluster): 컨테이너를 실행하기 위한 컴퓨팅 용량의 집합이다.
- 태스크(Task): 태스크 정의에 따라 클러스터에서 실행되는 컨테이너의 인스턴스이다.
- 서비스(Service): 원하는 수의 태스크 인스턴스를 유지하고, 태스크가 실패할 경우 이를 교체하여 가용성을 유지한다. [[ELB]]와 통합하여 트래픽을 분산시킨다.
- 컨테이너 에이전트: 클러스터 내의 각 [[EC2]] 컨테이너 인스턴스에서 실행되며, ECS 컨트롤 플레인과 통신하여 태스크를 실행하고 상태를 보고한다.
## 특징
- Fargate 통합: AWS Fargate를 실행 유형으로 선택하면 서버리스 모드로 동작하여 [[EC2]] 인스턴스 프로비저닝이나 클러스터 관리가 필요 없다.
- EC2 통합: EC2를 실행 유형으로 선택하면 사용자가 직접 클러스터 [[EC2]] 인스턴스를 관리하며, 더 높은 수준의 제어와 사용자 지정이 가능하다.
- 배포 유형: Rolling Update, Blue/Green(CodeDeploy 사용), Canary 배포 등 다양한 배포 방식을 지원한다.
- 확장성: 서비스에 대해 [[AWS Auto Scaling]]을 설정하여 트래픽에 따라 태스크 수를 자동으로 조정할 수 있다.
## 비교
| 구분 | ECS (Elastic Container Service) | [[Lambda]] |
| :--- | :--- | :--- |
| 운영 환경 | 컨테이너 (도커 이미지) | 함수 (코드와 런타임) |
| 확장 단위 | 컨테이너 인스턴스 (태스크) | 함수 실행 인스턴스 |
| 적합한 워크로드 | 장기 실행 서비스, 마이크로서비스, 복잡한 애플리케이션 | 짧은 실행 시간의 이벤트 기반 작업, 서버리스 백엔드 |
## 예시
- 마이크로서비스 배포:
    1. 개발팀이 웹 서비스의 각 구성 요소(예: 사용자 인증, 결제 처리, 카탈로그)를 개별 도커 컨테이너 이미지로 만든다.
    2. 이 이미지들을 ECS 태스크 정의로 작성하고, ECS 서비스를 생성하여 원하는 태스크 수를 지정한다.
    3. ECS는 이 태스크들을 [[Fargate]] 서버리스 환경에 자동으로 배포하고, [[ELB]]와 통합하여 트래픽을 각 마이크로서비스로 라우팅한다.
    4. 사용자는 기본 인프라 관리 없이 컨테이너 레벨에서 애플리케이션을 운영하고 확장할 수 있다.