---
created: 2025-11-14
tags: [aws_saa, sns, pubsub, topic, push, sms, email]
reference:
  - https://docs.aws.amazon.com/sns/latest/dg/welcome.html
---
# Amazon SNS (Simple Notification Service)
## 정의
분산 시스템의 구성 요소들 간에 메시지 또는 알림을 다수의 구독자(Subscriber)에게 안정적으로 전달하는 완전 관리형 메시징 서비스

## 요소
### Publisher (게시자)
메시지(알림)를 생성하여 SNS 주제(Topic)에 게시하는 컴포넌트이다. (예: 시스템 모니터링 서비스, S3 이벤트)

### Topic (주제)
게시자로부터 메시지를 수신하고, 이 메시지를 구독한 모든 엔드포인트로 라우팅하는 논리적인 액세스 포인트이다.

### Subscriber (구독자)
주제에 등록하여 알림을 수신하도록 설정된 엔드포인트이다. (예: SQS 대기열, Lambda 함수, 이메일 주소, HTTP/S 엔드포인트)

### Fanout Pattern (팬아웃 패턴)
단일 메시지(알림)가 SNS 주제를 통해 등록된 다수의 서로 다른 엔드포인트로 동시에 복제되어 전달되는 아키텍처 패턴이다.

## 원리
### Publish/Subscribe (게시/구독)
게시자는 구독자가 누구인지 알 필요 없이 주제에 메시지를 게시한다. SNS는 이 메시지를 주제에 등록된 모든 구독자에게 즉시 푸시(Push)한다.

### 동기화 및 분리
SNS는 생산자와 소비자를 분리하는 느슨한 결합(Decoupling)을 제공한다. 알림이 발생하면 소비자의 가용성이나 처리 속도에 관계없이 메시지를 즉시 전달하고 게시자의 작업은 완료된다.

### 중복 및 내구성
메시지는 여러 AWS 리전에 걸쳐 중복 저장되며, 전달 실패 시 재시도 메커니즘을 통해 안정적인 메시지 전달을 보장한다.

## 특징
### Push Notification (푸시 알림)
메시지를 버퍼링하는 SQS와 달리, SNS는 메시지를 수신하는 즉시 구독자에게 적극적으로 전달한다. 메시지는 구독자가 수신하기 전까지 SNS에 저장되지 않는다.

### Multi-Protocol Delivery (다중 프로토콜 전송)
이메일, 문자 메시지(SMS), HTTP/S 엔드포인트, Lambda, SQS 등 다양한 전송 프로토콜을 지원하여 광범위한 알림 및 통합 시나리오에 사용된다.

### Filtering (필터링)
구독자는 메시지 전체를 수신하는 대신, 메시지 속성을 기반으로 자신이 관심 있는 메시지만을 선택적으로 수신하도록 필터링 정책을 적용할 수 있다.

## 비교
| 구분 | SNS (Simple Notification Service) | SQS (Simple Queue Service) |
| :--- | :--- | :--- |
| 통신 모델 | 1:N Fanout (게시/구독) | 1:1 (메시지 대기열) |
| 메시지 보관 | 없음 (즉시 푸시 후 삭제) | 있음 (소비자가 처리할 때까지 보관) |
| 소비 방식 | Push (메시지를 구독자에게 보낸다) | Pull (소비자가 큐에서 메시지를 가져온다) |
| 주요 목적 | 알림, 이벤트 분배, 팬아웃 | 작업 버퍼링, 재시도, 비동기 분리 |

## 예시
### 중요 이벤트 팬아웃
1. 중요 데이터(예: 새로운 고객 가입)가 DynamoDB에 기록되는 이벤트가 발생한다.
2. 이 이벤트가 SNS 주제에 메시지로 게시된다.
3. 이 SNS 주제를 구독하고 있는 세 가지 엔드포인트가 메시지를 동시에 수신한다.
    - SQS 큐 A: 고객 환영 이메일을 보내는 Lambda 함수가 메시지를 가져가도록 한다.
    - Lambda 함수 B: 고객 데이터를 분석 데이터 웨어하우스(Redshift)로 로드한다.
    - 이메일 주소: 마케팅 팀 리더에게 실시간 알림을 보낸다.
4. 게시자는 단 한 번의 작업으로 세 가지 다른 후속 작업을 동시에 트리거하고 분리시킨다.