---
created: 2025-10-20
tags:
  - 정보처리기사
  - ipc
  - semaphore
  - multithreading
  - gil
  - operating_system
reference:
  - "[[정보처리기사 - hub]]"
  - "[[IPC]]"
  - "[[Semaphore and Mutex]]"
---

> Last revised: `= dateformat(this.file.mtime, "yyyy-MM-dd HH:mm")`

# 목적
세마포어와 GIL은 모두 '잠금(Lock)' 메커니즘을 사용한다는 공통점이 있지만, 목적과 제어 대상이 근본적으로 다르다.
## 세마포어: 공유 자원 동기화 (Fine-Grained Control)
세마포어의 목적은 프로그램 내부에서 여러 프로세스나 스레드가 공유 메모리나 파일 같은 특정 자원에 접근할 때 충돌(Race Condition)을 막고 데이터의 무결성을 지키는 것이다.
제어 대상: 프로그래머가 지정한 특정 공유 자원에 대한 접근이다.
병렬 처리 가능성: 세마포어는 특정 자원만 잠그므로, 다른 자원을 사용하는 스레드나 프로세스는 병렬로 실행될 수 있다. 즉, 세마포어는 병렬 처리를 방해하지 않는다.
## GIL: 인터프리터 전체 잠금 (Coarse-Grained Control)
GIL의 목적은 파이썬 인터프리터(CPython)가 C로 작성된 레거시 확장 모듈이나 메모리 관리를 안전하게 수행하기 위해 인터프리터 전체를 보호하는 것이다.
제어 대상: 파이썬 바이트코드 실행 자체이다.
병렬 처리 가능성: GIL은 멀티 CPU 코어 환경에서도 오직 하나의 파이썬 스레드만 코드를 실행하도록 강제한다. 따라서 파이썬의 스레드(Thread)는 진정한 의미의 병렬 처리가 불가능하다.
# 원리
## 세마포어의 병렬 처리
멀티 CPU 환경에서 스레드 A가 세마포어로 자원 X를 잠그고 사용 중일 때, 스레드 B는 자원 X가 아닌 자원 Y에 접근한다면, 스레드 A와 B는 각각 다른 CPU 코어에서 병렬로 실행될 수 있다.
## GIL의 병렬 처리
파이썬의 GIL은 CPU 바운드(계산 위주) 작업에서는 하나의 스레드만 CPU를 사용하도록 제한한다.
병렬 처리 대신 동시성(Concurrency)만 지원한다. 여러 스레드가 빠르게 CPU 사용권을 교환(Context Switching)하여 동시에 실행되는 것처럼 보일 뿐이다.
참고: 프로세스(Multiprocessing)를 사용하면 GIL의 영향을 받지 않고 진정한 병렬 처리가 가능하다. GIL은 스레드(Threading) 레벨에서만 작동한다.