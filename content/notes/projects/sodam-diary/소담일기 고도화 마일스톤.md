---
created: 2025-10-16
tags:
  - sodamdiary
  - milestone
reference:
  - "[[template - sodamdiary]]"
---
> **Last revised:** `= dateformat(this.file.mtime, "yyyy-MM-dd HH:mm")`
## 🚀 수정된 고도화 마일스톤 및 세부 계획 (FastAPI 우선)
|순서|목표 아키텍처|키워드|
|---|---|---|
|**1**|FastAPI (Django 로직 이전)|**FastAPI Core** (비동기, 로직 마이그레이션)|
|**2**|Docker (컨테이너화)|**Docker Compose** (로컬 통합 환경)|
|**3**|AWS (실제 배포)|**AWS EC2** (배포 환경)|
|**4**|OpenVINO (최종 최적화)|**OpenVINO** (성능 측정 및 적용)|
## 📋 수정된 고도화 마일스톤 상세 계획
### 마일스톤 1: Django ![](data:,) FastAPI 로직 마이그레이션 (로컬 테스트)
|단계|작업 내용|상세 목표|
|---|---|---|
|**1.1. FastAPI 서버 구축**|기본 API 구조 이전|Django의 `ImageCaptioningView` 로직을 FastAPI의 **비동기 라우터**로 포팅. (Uvicorn으로 기본 실행 확인)|
|**1.2. 모델 로직 통합**|기존 `image_captioner.py` 연동|FastAPI 환경에서 기존의 PyTorch (BLIP, CLIP) 모델 로직이 **정상적으로 호출 및 추론**되는지 확인.|
|**1.3. 데이터 모델/저장 로직 분리**|Django ORM 대체|**Pydantic** 모델로 데이터 유효성 검사 정의. Django ORM 대신 **SQLite/PostgreSQL을 위한 비동기 ORM** (예: Tortoise ORM 또는 SQLAlchemy Core/AsyncIO)을 설정하여 데이터 저장 로직 재구현.|
|**1.4. 로컬 최종 테스트**|기능 안정화|모든 API 엔드포인트가 Postman 또는 클라이언트 앱을 통해 **로컬 환경에서 완벽하게 작동**하는지 확인.|
### 마일스톤 2: Docker 컨테이너화 및 로컬 통합 환경 구축
|단계|작업 내용|상세 목표|
|---|---|---|
|**2.1. Dockerfile 작성**|FastAPI 환경 컨테이너화|Python 환경 및 FastAPI, Uvicorn, 모델 종속성(`requirements.txt`)을 포함하는 Docker 이미지 빌드.|
|**2.2. Docker Compose 설정**|로컬 서비스 통합|`docker-compose.yml`을 사용하여 **FastAPI 애플리케이션**과 **데이터베이스** 컨테이너를 정의하고 네트워크로 연결.|
|**2.3. Gunicorn/Uvicorn 설정**|프로덕션 실행 구조 도입|Gunicorn이 Uvicorn 워커를 관리하도록 `docker-compose.yml`의 `command`를 설정하여 **로컬에서도 프로덕션과 유사한 환경**에서 테스트.|
|**2.4. 통합 컨테이너 테스트**|로컬 통합 테스트 완료|컨테이너 환경에서 모든 API 호출과 DB 저장 로직이 정상 작동하는지 최종 확인.|
### 마일스톤 3: AWS EC2 배포 및 서비스 안정화
|단계|작업 내용|상세 목표|
|---|---|---|
|**3.1. AWS EC2 인스턴스 설정**|Intel 기반 EC2 인스턴스 생성|**Intel CPU 기반 인스턴스** (C5, M5 등) 선택. Ubuntu/Amazon Linux OS 설치 및 **SSH/보안 그룹** 설정.|
|**3.2. 배포 환경 구축**|Docker 설치 및 코드 전송|인스턴스에 Docker 및 `docker compose` 설치. **소스 코드, `.env`, `docker-compose.yml` 전송.**|
|**3.3. 서비스 배포 및 실행**|프로덕션 서버 구동|AWS 인스턴스에서 `docker compose up -d`를 실행하여 서버를 백그라운드로 구동.|
|**3.4. 외부 접속 확인**|엔드포인트 공개 테스트|도메인 또는 인스턴스 Public IP를 통해 클라이언트 앱이나 Postman으로 **배포된 API의 정상 작동** 확인. (방화벽 및 인스턴스 보안 그룹 설정 확인)|
### 마일스톤 4: OpenVINO 최적화 적용 (선택적 성능 고도화)
|단계|작업 내용|상세 목표|
|---|---|---|
|**4.1. OpenVINO 환경 구축**|OpenVINO 종속성 설치|`requirements.txt`에 OpenVINO 관련 패키지 추가.|
|**4.2. 모델 변환**|BLIP/CLIP 모델 OpenVINO IR 형식으로 변환|PyTorch ![](data:,) ONNX ![](data:,) **OpenVINO IR** 변환.|
|**4.3. OpenVINO 통합 및 테스트**|모델 로직 교체 및 성능 측정|`image_captioner.py`에서 **OpenVINO Runtime으로 IR 모델을 로드**하여 추론하도록 로직을 변경. 변경 전후의 **추론 시간(Latency) 비교**를 통해 성능 향상 확인.|
|**4.4. 최종 Docker 이미지 업데이트**|최적화 모델 적용 배포|OpenVINO가 통합된 최종 Docker 이미지를 빌드하고 AWS에 재배포하여 서비스 고도화 완료.|